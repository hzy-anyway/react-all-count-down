function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var React=require("react");var React__default=_interopDefault(React);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass}var Form=function Form(){var _this=this;this.append=function(name,value){if(!_this.data[name])_this.data[name]=[];_this.data[name].push(value)};this.get=function(name){if(!_this.data[name])return undefined;return _this.data[name][0]};this.getAll=function(name){if(!_this.data[name])return undefined;return _this.data[name]};this.toFormData=function(){var formData=new FormData;var _loop=function _loop(i){var key=Object.keys(_this.data)[i];values=_this.data[key];values.forEach(function(value,index){console.log(key);if(value.name){formData.append(key,value,value.name)}else{formData.append(key,value)}})};for(var i=0;i<Object.keys(_this.data);i++){var values;_loop(i)}return formData};this.data={}};function createReactFormGrabber(){var _temp;return _temp=function(_Component){_inheritsLoose(ReactFormGrabber,_Component);function ReactFormGrabber(props){var _this;_this=_Component.call(this,props)||this;_this.componentDidMount=function(){Object.defineProperty(ReactFormGrabber,"form",{set:function set(val){throw new Error("Can not set value to attribute 'form'")},get:function get(){try{var form=new Form;var all_input_elements=_this.rootElement.current.getElementsByTagName("input");var all_textarea_elements=_this.rootElement.current.getElementsByTagName("textarea");var all_select_elements=_this.rootElement.current.getElementsByTagName("select");for(var i=0;i<all_input_elements.length;i++){var element=all_input_elements[i];var type=element.type.trim();switch(type){case"text":case"password":case"email":case"url":case"number":case"range":case"search":case"hidden":form.append(element.name,element.value);break;case"radio":if(element.checked){form.append(element.name,element.value)}break;case"checkbox":if(element.checked){form.append(element.name,element.value)}break;case"file":for(var _i=0;_i<element.files.length;_i++){var file=element.files[_i];form.append(element.name,file)}break;default:break}}for(var _i2=0;_i2<all_textarea_elements.length;_i2++){var _element=all_textarea_elements[_i2];form.append(_element.name,_element.value)}for(var _i3=0;_i3<all_select_elements.length;_i3++){var _element2=all_select_elements[_i3];var options=_element2.options;for(var _i4=0;_i4<options.length;_i4++){var option=options[_i4];if(option.selected){form.append(_element2.name,option.value)}}}return form}catch(error){console.error(error);throw new Error("Maybe at least one form control hasn't got attribute 'name' or 'value'")}}})};_this.rootElement=React__default.createRef();return _this}var _proto=ReactFormGrabber.prototype;_proto.render=function render(){return React__default.createElement("div",_extends({},this.props,{ref:this.rootElement}),this.props.children)};return ReactFormGrabber}(React.Component),_temp}module.exports=createReactFormGrabber;